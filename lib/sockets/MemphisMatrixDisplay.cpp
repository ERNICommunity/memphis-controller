/*
 * MemphisMatrixDisplay.cpp
 *
 *  Created on: 29.05.2016
 *      Author: niklausd
 */

#include <Adafruit_GFX.h>
#include <gfxfont.h>
#include <Fonts/TomThumb.h>
#include <Adafruit_NeoPixel.h>
#include <Adafruit_NeoMatrix.h>
#include <MemphisMatrixDisplay.h>
#include <Timer.h>

//-----------------------------------------------------------------------------

class HeartAnimationTimerAdapter : public TimerAdapter
{
private:
  MemphisMatrixDisplay* m_matrixDisplay;
public:
  HeartAnimationTimerAdapter(MemphisMatrixDisplay* matrixDisplay)
  : m_matrixDisplay(matrixDisplay)
  { }

  void timeExpired()
  {
    if (0 != m_matrixDisplay)
    {
      m_matrixDisplay->showNextFrame();
    }
  }
};

//-----------------------------------------------------------------------------

typedef enum
{
  CS_red   = 0,
  CS_green = 1,
  CS_blue  = 2,
  CS_NColors
} ColorSelection;

const uint16_t colors[] =
{ Adafruit_NeoMatrix::Color(255, 0, 0), Adafruit_NeoMatrix::Color(0, 255, 0), Adafruit_NeoMatrix::Color(0, 0, 255) };

// The "original" 4 Frames GIF
#define heartbeating1NUM_FRM 4
// [heartbeating1NUM_FRM][CS_NColors][MemphisMatrixDisplay::s_matrixEdgeLength * MemphisMatrixDisplay::s_matrixEdgeLength]
const unsigned char heartbeating1Frame[][CS_NColors][MemphisMatrixDisplay::s_matrixEdgeLength * MemphisMatrixDisplay::s_matrixEdgeLength] =
{
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,0,0,0,0,255,255,255,0,0,0,0,0,255,255,255,255,255,0,0,255,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,102,102,102,0,0,0,0,102,102,102,0,0,0,0,0,102,102,102,102,102,0,0,102,102,102,102,102,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,0,0,102,102,102,102,102,102,102,102,0,0,0,0,0,0,0,0,0,102,102,102,102,102,102,0,0,0,0,0,0,0,0,0,0,0,102,102,102,102,0,0,0,0,0,0,0,0,0,0,0,0,0,102,102,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  },
  {
    {0,0,0,255,255,255,0,0,0,0,255,255,255,0,0,0,0,0,255,255,255,255,255,0,0,255,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,102,102,102,0,0,0,0,102,102,102,0,0,0,0,0,102,102,102,102,102,0,0,102,102,102,102,102,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,0,0,102,102,102,102,102,102,102,102,0,0,0,0,0,0,0,0,0,102,102,102,102,102,102,0,0,0,0,0,0,0,0,0,0,0,102,102,102,102,0,0,0,0,0,0,0,0,0,0,0,0,0,102,102,0,0,0,0,0,0,0},
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,0,0,0,0,255,255,255,0,0,0,0,0,255,255,255,255,255,0,0,255,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,102,102,102,0,0,0,0,102,102,102,0,0,0,0,0,102,102,102,102,102,0,0,102,102,102,102,102,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,102,102,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,0,0,102,102,102,102,102,102,102,102,0,0,0,0,0,0,0,0,0,102,102,102,102,102,102,0,0,0,0,0,0,0,0,0,0,0,102,102,102,102,0,0,0,0,0,0,0,0,0,0,0,0,0,102,102,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,0,0,0,0,255,255,255,0,0,0,0,0,255,255,255,255,255,0,0,255,255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,102,102,102,0,0,0,0,102,102,102,0,0,0,0,0,102,102,102,102,102,0,0,102,102,102,102,102,0,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,102,102,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,0,102,102,102,102,102,102,102,102,102,102,0,0,0,0,0,0,0,102,102,102,102,102,102,102,102,0,0,0,0,0,0,0,0,0,102,102,102,102,102,102,0,0,0,0,0,0,0,0,0,0,0,102,102,102,102,0,0,0,0,0,0,0,0,0,0,0,0,0,102,102,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  }
};

// Animated-Heart_NEW_without-digits_transparent-bg
#define heartbeating2NUM_FRM 10
// [heartbeating2NUM_FRM][CS_NColors][MemphisMatrixDisplay::s_matrixEdgeLength * MemphisMatrixDisplay::s_matrixEdgeLength]
const unsigned char heartbeating2Frame[][CS_NColors][MemphisMatrixDisplay::s_matrixEdgeLength * MemphisMatrixDisplay::s_matrixEdgeLength] =
{
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,214,185,184,193,242,0,0,219,181,183,181,212,0,0,0,189,195,219,220,213,177,236,216,186,220,220,220,193,194,0,219,192,220,220,220,220,216,178,177,220,220,220,220,220,187,225,180,219,220,220,220,220,220,192,199,220,220,220,220,220,218,182,180,220,220,220,220,220,220,213,216,220,220,220,220,220,220,179,179,220,220,220,220,220,220,220,220,220,220,220,220,220,220,180,189,210,220,220,220,220,220,220,220,220,220,220,220,220,216,184,247,176,214,220,220,220,220,255,220,220,220,220,220,220,183,234,0,241,177,208,220,220,220,255,220,220,220,220,220,195,203,0,0,0,249,185,193,219,220,255,220,220,220,220,200,189,0,0,0,0,0,0,214,176,206,220,255,220,220,195,189,254,0,0,0,0,0,0,0,248,194,181,255,219,186,202,0,0,0,0,0,0,0,0,0,0,0,243,193,174,225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,204,158,152,172,242,0,0,207,150,136,150,199,0,0,0,171,100,59,58,68,142,234,205,119,58,58,58,104,179,0,209,105,58,58,58,58,64,155,147,58,58,58,58,58,116,218,156,60,58,58,58,58,58,105,91,58,58,58,58,58,61,159,141,58,58,58,58,58,58,68,64,58,58,58,58,58,58,141,141,58,58,58,58,58,58,58,58,58,58,58,58,58,58,141,169,72,58,58,58,58,58,58,58,58,58,58,58,58,64,162,247,148,66,58,58,58,58,255,58,58,58,58,58,58,127,230,0,240,151,75,58,58,58,255,58,58,58,58,58,100,189,0,0,0,249,165,105,59,58,255,58,58,58,58,92,173,0,0,0,0,0,0,204,145,78,58,255,58,58,102,173,254,0,0,0,0,0,0,0,248,179,134,255,59,121,187,0,0,0,0,0,0,0,0,0,0,0,243,172,150,218,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,202,153,146,168,242,0,0,204,144,127,144,197,0,0,0,167,80,25,24,38,135,233,203,104,25,24,24,85,175,0,206,88,24,24,24,24,32,150,141,25,24,24,24,24,101,217,151,27,24,24,24,24,24,88,67,24,24,24,24,24,29,154,133,24,24,24,24,24,24,37,32,24,24,24,24,24,24,134,134,24,24,24,24,24,24,24,24,24,24,24,24,24,24,133,165,43,24,24,24,24,24,24,24,24,24,24,24,24,32,157,247,143,35,24,24,24,24,255,24,24,24,24,24,24,115,229,0,240,145,47,24,24,24,255,24,24,24,24,24,80,186,0,0,0,249,161,87,25,24,255,24,24,24,24,68,170,0,0,0,0,0,0,202,138,51,24,255,24,24,82,170,254,0,0,0,0,0,0,0,248,175,125,255,26,107,184,0,0,0,0,0,0,0,0,0,0,0,243,168,146,217,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,249,238,243,254,0,0,249,231,230,247,0,0,0,0,0,204,187,206,199,182,246,230,181,215,216,186,209,0,0,0,225,190,220,220,220,214,185,181,219,220,220,220,186,232,0,0,185,219,220,220,220,220,190,196,220,220,220,220,218,187,0,0,185,220,220,220,220,220,212,214,220,220,220,220,220,184,0,0,185,220,220,220,220,220,220,220,220,220,220,220,220,186,0,0,190,215,220,220,220,220,220,220,220,220,220,220,218,187,0,0,244,181,218,220,220,220,220,220,220,220,220,220,190,232,0,0,0,236,179,215,220,220,220,220,220,220,220,204,196,0,0,0,0,0,243,181,203,220,220,220,220,220,208,184,253,0,0,0,0,0,0,253,201,185,214,220,220,207,183,251,0,0,0,0,0,0,0,0,0,241,187,192,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,244,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,249,232,240,254,0,0,248,218,216,245,0,0,0,0,0,188,122,78,91,154,245,224,134,65,64,119,192,0,0,0,218,112,58,58,58,67,161,150,59,58,58,58,121,228,0,0,158,59,58,58,58,58,112,98,58,58,58,58,61,161,0,0,139,58,58,58,58,58,70,66,58,58,58,58,58,140,0,0,138,58,58,58,58,58,58,58,58,58,58,58,58,137,0,0,165,65,58,58,58,58,58,58,58,58,58,58,61,161,0,0,243,142,60,58,58,58,58,58,58,58,58,58,115,228,0,0,0,232,143,65,58,58,58,58,58,58,58,81,177,0,0,0,0,0,243,155,82,58,58,58,58,58,75,162,253,0,0,0,0,0,0,253,185,130,66,58,58,78,160,251,0,0,0,0,0,0,0,0,0,240,162,109,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,241,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,249,231,240,254,0,0,248,216,214,244,0,0,0,0,0,184,109,51,67,147,245,223,125,34,32,104,188,0,0,0,217,96,24,24,24,36,157,144,26,24,24,24,107,227,0,0,153,26,24,24,24,24,96,77,24,24,24,24,29,155,0,0,131,24,24,24,24,24,40,35,24,24,24,24,24,131,0,0,129,24,24,24,24,24,24,24,24,24,24,24,24,127,0,0,159,34,24,24,24,24,24,24,24,24,24,24,29,155,0,0,243,134,27,24,24,24,24,24,24,24,24,24,99,227,0,0,0,232,135,34,24,24,24,24,24,24,24,56,173,0,0,0,0,0,243,149,58,24,24,24,24,24,47,157,253,0,0,0,0,0,0,253,181,118,35,24,24,50,155,251,0,0,0,0,0,0,0,0,0,240,157,92,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,241,229,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,254,0,0,0,0,0,0,247,189,188,187,196,253,244,183,197,192,187,249,0,0,0,0,185,213,220,220,208,196,185,216,220,220,211,187,0,0,0,246,198,220,220,220,220,189,194,220,220,220,220,195,247,0,0,235,217,220,220,220,220,209,214,220,220,220,220,216,236,0,0,235,219,220,220,220,220,220,220,220,220,220,220,219,235,0,0,245,196,220,220,220,220,220,220,220,220,220,220,201,244,0,0,0,193,207,220,220,220,220,220,220,220,220,218,184,0,0,0,0,253,191,201,220,220,220,220,220,220,220,186,236,0,0,0,0,0,0,205,187,218,220,220,220,220,190,219,0,0,0,0,0,0,0,0,234,183,201,220,220,187,219,0,0,0,0,0,0,0,0,0,0,0,214,184,183,229,0,255,255,0,0,0,0,0,0,0,0,0,0,0,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,254,0,0,0,0,0,0,247,163,130,134,174,253,243,150,98,111,162,249,0,0,0,0,158,67,58,58,76,174,158,64,58,58,71,163,0,0,0,243,96,58,58,58,58,122,107,58,58,58,58,105,246,0,0,224,62,58,58,58,58,73,67,58,58,58,58,64,224,0,0,222,60,58,58,58,58,58,58,58,58,58,58,59,222,0,0,242,101,58,58,58,58,58,58,58,58,58,58,90,240,0,0,0,172,78,58,58,58,58,58,58,58,58,61,151,0,0,0,0,253,168,90,58,58,58,58,58,58,58,128,231,0,0,0,0,0,0,188,122,61,58,58,58,58,118,209,0,0,0,0,0,0,0,0,230,154,91,58,58,123,207,0,0,0,0,0,0,0,0,0,0,0,201,142,138,221,0,255,255,0,0,0,0,0,0,0,0,0,0,0,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,254,0,0,0,0,0,0,247,158,119,123,169,253,243,143,78,94,157,249,0,0,0,0,152,37,24,24,49,170,153,32,24,24,41,158,0,0,0,243,76,24,24,24,24,108,89,24,24,24,24,86,245,0,0,222,30,24,24,24,24,45,36,24,24,24,24,32,222,0,0,219,27,24,24,24,24,24,24,24,24,24,24,26,219,0,0,242,81,24,24,24,24,24,24,24,24,24,24,67,239,0,0,0,168,52,24,24,24,24,24,24,24,24,28,144,0,0,0,0,253,163,67,24,24,24,24,24,24,24,115,230,0,0,0,0,0,0,184,108,28,24,24,24,24,104,206,0,0,0,0,0,0,0,0,229,148,68,24,25,110,204,0,0,0,0,0,0,0,0,0,0,0,198,133,129,219,0,255,255,0,0,0,0,0,0,0,0,0,0,0,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,238,207,206,227,0,253,211,203,203,237,0,0,0,0,0,229,187,219,220,199,210,195,210,220,219,186,234,0,0,0,0,186,220,220,220,220,188,192,220,220,220,219,187,0,0,0,0,192,220,220,220,220,207,212,220,220,220,220,192,0,0,0,0,196,220,220,220,220,220,220,220,220,220,220,197,0,0,0,0,186,220,220,220,220,220,220,220,220,220,220,187,0,0,0,0,230,191,220,220,220,220,220,220,220,220,206,209,0,0,0,0,0,224,187,218,220,220,220,220,220,213,188,254,0,0,0,0,0,0,237,184,207,220,220,220,213,184,249,0,0,0,0,0,0,0,0,253,204,187,215,210,184,249,0,0,0,0,0,0,0,0,0,0,0,247,207,207,253,0,0,0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,179,174,217,0,253,188,158,168,232,0,0,0,0,0,221,122,59,58,98,192,171,72,58,59,126,228,0,0,0,0,150,58,58,58,58,130,116,58,58,58,59,154,0,0,0,0,116,58,58,58,58,76,70,58,58,58,58,117,0,0,0,0,103,58,58,58,58,58,58,58,58,58,58,102,0,0,0,0,144,58,58,58,58,58,58,58,58,58,58,140,0,0,0,0,221,120,58,58,58,58,58,58,58,58,83,192,0,0,0,0,0,213,128,61,58,58,58,58,58,67,159,254,0,0,0,0,0,0,233,151,77,58,58,58,67,152,249,0,0,0,0,0,0,0,0,253,186,128,65,72,154,249,0,0,0,0,0,0,0,0,0,0,0,246,182,183,253,0,0,0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,173,168,215,0,253,183,148,161,230,0,0,0,0,0,219,108,26,24,77,188,166,43,24,26,113,227,0,0,0,0,143,25,24,24,24,119,100,24,24,24,26,147,0,0,0,0,100,24,24,24,24,48,40,24,24,24,24,101,0,0,0,0,84,24,24,24,24,24,24,24,24,24,24,82,0,0,0,0,136,25,24,24,24,24,24,24,24,24,24,130,0,0,0,0,220,105,24,24,24,24,24,24,24,24,56,188,0,0,0,0,0,211,115,28,24,24,24,24,24,37,154,254,0,0,0,0,0,0,232,144,50,24,24,24,37,145,249,0,0,0,0,0,0,0,0,253,182,115,33,43,148,249,0,0,0,0,0,0,0,0,0,0,0,246,177,178,253,0,0,0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,247,242,252,0,0,246,237,244,0,0,0,0,0,0,0,195,200,210,190,226,210,200,220,201,196,0,0,0,0,0,234,204,220,220,220,188,191,220,220,220,200,237,0,0,0,0,220,220,220,220,220,205,209,220,220,220,220,219,0,0,0,0,218,220,220,220,220,220,220,220,220,220,220,218,0,0,0,0,225,212,220,220,220,220,220,220,220,220,216,224,0,0,0,0,253,188,216,220,220,220,220,220,220,220,189,249,0,0,0,0,0,249,188,209,220,220,220,220,220,197,220,0,0,0,0,0,0,0,253,202,193,218,220,220,197,211,0,0,0,0,0,0,0,0,0,0,237,189,202,193,217,0,0,0,0,0,0,0,0,0,0,0,0,0,245,247,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,245,237,252,0,0,242,224,240,0,0,0,0,0,0,0,169,94,73,124,214,191,96,58,90,174,0,0,0,0,0,225,86,58,58,58,138,126,58,58,58,94,231,0,0,0,0,190,58,58,58,58,79,73,58,58,58,58,191,0,0,0,0,183,58,58,58,58,58,58,58,58,58,58,183,0,0,0,0,207,70,58,58,58,58,58,58,58,58,64,203,0,0,0,0,253,153,64,58,58,58,58,58,58,58,129,249,0,0,0,0,0,249,156,75,58,58,58,58,58,103,206,0,0,0,0,0,0,0,253,180,114,60,58,58,103,194,0,0,0,0,0,0,0,0,0,0,233,155,91,114,202,0,0,0,0,0,0,0,0,0,0,0,0,0,240,243,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,236,252,0,0,241,221,239,0,0,0,0,0,0,0,164,71,44,109,212,187,74,25,67,168,0,0,0,0,0,223,61,24,24,24,128,113,24,24,24,71,229,0,0,0,0,184,24,24,24,24,53,45,24,24,24,24,185,0,0,0,0,175,24,24,24,24,25,24,24,24,24,24,176,0,0,0,0,204,40,24,24,24,24,24,24,24,24,32,199,0,0,0,0,253,145,33,24,24,24,24,24,24,24,115,249,0,0,0,0,0,249,149,47,24,24,24,24,24,83,203,0,0,0,0,0,0,0,253,176,99,27,24,24,83,190,0,0,0,0,0,0,0,0,0,0,232,148,68,99,198,0,0,0,0,0,0,0,0,0,0,0,0,0,239,242,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,239,191,193,191,240,227,189,199,189,242,0,0,0,0,0,0,189,219,220,219,189,190,220,220,218,188,0,0,0,0,0,252,203,220,220,220,204,207,220,220,220,201,252,0,0,0,0,250,211,220,220,220,219,219,220,220,220,211,250,0,0,0,0,253,195,220,220,220,220,220,220,220,220,197,253,0,0,0,0,0,214,202,220,220,220,220,220,220,216,196,0,0,0,0,0,0,0,214,195,220,220,220,220,218,188,249,0,0,0,0,0,0,0,0,234,189,208,220,217,188,244,0,0,0,0,0,0,0,0,0,0,254,210,191,189,247,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,234,149,122,149,235,214,129,98,148,239,0,0,0,0,0,0,147,59,58,59,147,136,58,58,60,149,0,0,0,0,0,251,87,58,58,58,86,77,58,58,58,89,251,0,0,0,0,246,71,58,58,58,59,59,58,58,58,71,246,0,0,0,0,253,112,58,58,58,58,58,58,58,58,105,253,0,0,0,0,0,194,93,58,58,58,58,58,58,64,165,0,0,0,0,0,0,0,194,112,58,58,58,58,60,143,249,0,0,0,0,0,0,0,0,227,147,75,58,62,143,241,0,0,0,0,0,0,0,0,0,0,254,191,130,151,247,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,140,107,140,234,211,115,77,139,239,0,0,0,0,0,0,138,26,24,26,138,124,24,24,27,141,0,0,0,0,0,250,62,24,24,24,61,50,24,24,24,66,250,0,0,0,0,246,42,24,24,24,26,25,24,24,24,42,246,0,0,0,0,253,96,24,24,24,24,24,24,24,24,87,253,0,0,0,0,0,190,70,24,24,24,24,24,24,33,159,0,0,0,0,0,0,0,190,94,25,24,24,24,27,134,249,0,0,0,0,0,0,0,0,225,138,47,24,30,134,241,0,0,0,0,0,0,0,0,0,0,254,187,118,143,246,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,247,242,252,0,0,246,237,244,0,0,0,0,0,0,0,195,200,210,190,226,210,200,220,201,196,0,0,0,0,0,234,204,220,220,220,188,191,220,220,220,200,237,0,0,0,0,220,220,220,220,220,205,209,220,220,220,220,219,0,0,0,0,218,220,220,220,220,220,220,220,220,220,220,218,0,0,0,0,225,212,220,220,220,220,220,220,220,220,216,224,0,0,0,0,253,188,216,220,220,220,220,220,220,220,189,249,0,0,0,0,0,249,188,209,220,220,220,220,220,197,220,0,0,0,0,0,0,0,253,202,193,218,220,220,197,211,0,0,0,0,0,0,0,0,0,0,237,189,202,193,217,0,0,0,0,0,255,255,0,0,0,0,0,0,245,247,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,245,237,252,0,0,242,224,240,0,0,0,0,0,0,0,169,94,73,124,214,191,96,58,90,174,0,0,0,0,0,225,86,58,58,58,138,126,58,58,58,94,231,0,0,0,0,190,58,58,58,58,79,73,58,58,58,58,191,0,0,0,0,183,58,58,58,58,58,58,58,58,58,58,183,0,0,0,0,207,70,58,58,58,58,58,58,58,58,64,203,0,0,0,0,253,153,64,58,58,58,58,58,58,58,129,249,0,0,0,0,0,249,156,75,58,58,58,58,58,103,206,0,0,0,0,0,0,0,253,180,114,60,58,58,103,194,0,0,0,0,0,0,0,0,0,0,233,155,91,114,202,0,0,0,0,0,255,255,0,0,0,0,0,0,240,243,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,236,252,0,0,241,221,239,0,0,0,0,0,0,0,164,71,44,109,212,187,74,25,67,168,0,0,0,0,0,223,61,24,24,24,128,113,24,24,24,71,229,0,0,0,0,184,24,24,24,24,53,45,24,24,24,24,185,0,0,0,0,175,24,24,24,24,25,24,24,24,24,24,176,0,0,0,0,204,40,24,24,24,24,24,24,24,24,32,199,0,0,0,0,253,145,33,24,24,24,24,24,24,24,115,249,0,0,0,0,0,249,149,47,24,24,24,24,24,83,203,0,0,0,0,0,0,0,253,176,99,27,24,24,83,190,0,0,0,0,0,0,0,0,0,0,232,148,68,99,198,0,0,0,0,0,255,255,0,0,0,0,0,0,239,242,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,238,207,206,227,0,253,211,203,203,237,0,0,0,0,0,229,187,219,220,199,210,195,210,220,219,186,234,0,0,0,0,186,220,220,220,220,188,192,220,220,220,219,187,0,0,0,0,192,220,220,220,220,207,212,220,220,220,220,192,0,0,0,0,196,220,220,220,220,220,220,220,220,220,220,197,0,0,0,0,186,220,220,220,220,220,220,220,220,220,220,187,0,0,0,0,230,191,220,220,220,220,220,220,220,220,206,209,0,0,0,0,0,224,187,218,220,220,220,220,220,213,188,254,0,0,0,0,0,0,237,184,207,220,220,220,213,184,249,0,0,0,0,0,0,0,0,253,204,187,215,210,184,249,0,0,0,0,0,0,255,255,0,0,0,247,207,207,253,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,179,174,217,0,253,188,158,168,232,0,0,0,0,0,221,122,59,58,98,192,171,72,58,59,126,228,0,0,0,0,150,58,58,58,58,130,116,58,58,58,59,154,0,0,0,0,116,58,58,58,58,76,70,58,58,58,58,117,0,0,0,0,103,58,58,58,58,58,58,58,58,58,58,102,0,0,0,0,144,58,58,58,58,58,58,58,58,58,58,140,0,0,0,0,221,120,58,58,58,58,58,58,58,58,83,192,0,0,0,0,0,213,128,61,58,58,58,58,58,67,159,254,0,0,0,0,0,0,233,151,77,58,58,58,67,152,249,0,0,0,0,0,0,0,0,253,186,128,65,72,154,249,0,0,0,0,0,0,255,255,0,0,0,246,182,183,253,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,173,168,215,0,253,183,148,161,230,0,0,0,0,0,219,108,26,24,77,188,166,43,24,26,113,227,0,0,0,0,143,25,24,24,24,119,100,24,24,24,26,147,0,0,0,0,100,24,24,24,24,48,40,24,24,24,24,101,0,0,0,0,84,24,24,24,24,24,24,24,24,24,24,82,0,0,0,0,136,25,24,24,24,24,24,24,24,24,24,130,0,0,0,0,220,105,24,24,24,24,24,24,24,24,56,188,0,0,0,0,0,211,115,28,24,24,24,24,24,37,154,254,0,0,0,0,0,0,232,144,50,24,24,24,37,145,249,0,0,0,0,0,0,0,0,253,182,115,33,43,148,249,0,0,0,0,0,0,255,255,0,0,0,246,177,178,253,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,254,0,0,0,0,0,0,247,189,188,187,196,253,244,183,197,192,187,249,0,0,0,0,185,213,220,220,208,196,185,216,220,220,211,187,0,0,0,246,198,220,220,220,220,189,194,220,220,220,220,195,247,0,0,235,217,220,220,220,220,209,214,220,220,220,220,216,236,0,0,235,219,220,220,220,220,220,220,220,220,220,220,219,235,0,0,245,196,220,220,220,220,220,220,220,220,220,220,201,244,0,0,0,193,207,220,220,220,220,220,220,220,220,218,184,0,0,0,0,253,191,201,220,220,220,220,220,220,220,186,236,0,0,0,0,0,0,205,187,218,220,220,220,220,190,219,0,0,0,0,0,0,0,0,234,183,201,220,220,187,219,0,0,0,0,0,0,0,0,255,255,0,214,184,183,229,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,254,0,0,0,0,0,0,247,163,130,134,174,253,243,150,98,111,162,249,0,0,0,0,158,67,58,58,76,174,158,64,58,58,71,163,0,0,0,243,96,58,58,58,58,122,107,58,58,58,58,105,246,0,0,224,62,58,58,58,58,73,67,58,58,58,58,64,224,0,0,222,60,58,58,58,58,58,58,58,58,58,58,59,222,0,0,242,101,58,58,58,58,58,58,58,58,58,58,90,240,0,0,0,172,78,58,58,58,58,58,58,58,58,61,151,0,0,0,0,253,168,90,58,58,58,58,58,58,58,128,231,0,0,0,0,0,0,188,122,61,58,58,58,58,118,209,0,0,0,0,0,0,0,0,230,154,91,58,58,123,207,0,0,0,0,0,0,0,0,255,255,0,201,142,138,221,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,254,0,0,0,0,0,0,247,158,119,123,169,253,243,143,78,94,157,249,0,0,0,0,152,37,24,24,49,170,153,32,24,24,41,158,0,0,0,243,76,24,24,24,24,108,89,24,24,24,24,86,245,0,0,222,30,24,24,24,24,45,36,24,24,24,24,32,222,0,0,219,27,24,24,24,24,24,24,24,24,24,24,26,219,0,0,242,81,24,24,24,24,24,24,24,24,24,24,67,239,0,0,0,168,52,24,24,24,24,24,24,24,24,28,144,0,0,0,0,253,163,67,24,24,24,24,24,24,24,115,230,0,0,0,0,0,0,184,108,28,24,24,24,24,104,206,0,0,0,0,0,0,0,0,229,148,68,24,25,110,204,0,0,0,0,0,0,0,0,255,255,0,198,133,129,219,0,0,0,0,0,0,0,0,0,0,0,0,0,0,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,249,238,243,254,0,0,249,231,230,247,0,0,0,0,0,204,187,206,199,182,246,230,181,215,216,186,209,0,0,0,225,190,220,220,220,214,185,181,219,220,220,220,186,232,0,0,185,219,220,220,220,220,190,196,220,220,220,220,218,187,0,0,185,220,220,220,220,220,212,214,220,220,220,220,220,184,0,0,185,220,220,220,220,220,220,220,220,220,220,220,220,186,0,0,190,215,220,220,220,220,220,220,220,220,220,220,218,187,0,0,244,181,218,220,220,220,220,220,220,220,220,220,190,232,0,0,0,236,179,215,220,220,220,220,220,220,220,204,196,0,0,0,0,0,243,181,203,220,220,220,220,220,208,184,253,0,0,0,0,0,0,253,201,185,255,220,220,207,183,251,0,0,0,0,0,0,0,0,0,241,255,192,199,189,253,0,0,0,0,0,0,0,0,0,0,255,0,244,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,249,232,240,254,0,0,248,218,216,245,0,0,0,0,0,188,122,78,91,154,245,224,134,65,64,119,192,0,0,0,218,112,58,58,58,67,161,150,59,58,58,58,121,228,0,0,158,59,58,58,58,58,112,98,58,58,58,58,61,161,0,0,139,58,58,58,58,58,70,66,58,58,58,58,58,140,0,0,138,58,58,58,58,58,58,58,58,58,58,58,58,137,0,0,165,65,58,58,58,58,58,58,58,58,58,58,61,161,0,0,243,142,60,58,58,58,58,58,58,58,58,58,115,228,0,0,0,232,143,65,58,58,58,58,58,58,58,81,177,0,0,0,0,0,243,155,82,58,58,58,58,58,75,162,253,0,0,0,0,0,0,253,185,130,255,58,58,78,160,251,0,0,0,0,0,0,0,0,0,240,255,109,96,169,253,0,0,0,0,0,0,0,0,0,0,255,0,241,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
    {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,249,231,240,254,0,0,248,216,214,244,0,0,0,0,0,184,109,51,67,147,245,223,125,34,32,104,188,0,0,0,217,96,24,24,24,36,157,144,26,24,24,24,107,227,0,0,153,26,24,24,24,24,96,77,24,24,24,24,29,155,0,0,131,24,24,24,24,24,40,35,24,24,24,24,24,131,0,0,129,24,24,24,24,24,24,24,24,24,24,24,24,127,0,0,159,34,24,24,24,24,24,24,24,24,24,24,29,155,0,0,243,134,27,24,24,24,24,24,24,24,24,24,99,227,0,0,0,232,135,34,24,24,24,24,24,24,24,56,173,0,0,0,0,0,243,149,58,24,24,24,24,24,47,157,253,0,0,0,0,0,0,253,181,118,255,24,24,50,155,251,0,0,0,0,0,0,0,0,0,240,255,92,74,165,253,0,0,0,0,0,0,0,0,0,0,255,0,241,229,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  }
};

// Animated-Heart (background white)
#define heartbeating3NUM_FRM 7
// [heartbeating3NUM_FRM][CS_NColors][MemphisMatrixDisplay::s_matrixEdgeLength * MemphisMatrixDisplay::s_matrixEdgeLength]
const unsigned char heartbeating3Frame[][CS_NColors][MemphisMatrixDisplay::s_matrixEdgeLength * MemphisMatrixDisplay::s_matrixEdgeLength] =
{
  {
    {255,255,253,245,242,245,250,254,255,255,255,255,255,255,255,255,255,252,242,243,247,246,243,247,255,255,255,255,255,255,255,255,255,244,242,242,245,249,249,243,251,255,254,253,254,255,255,255,253,244,244,231,206,212,232,244,246,250,244,244,245,250,255,255,251,245,249,243,213,208,215,230,242,241,239,243,246,245,252,255,251,245,249,246,229,222,222,222,231,240,233,236,234,227,239,255,252,245,248,248,245,239,227,217,213,220,210,188,161,139,195,255,255,246,246,248,249,248,232,210,191,184,154,113,87,78,177,255,255,252,244,245,237,233,224,203,172,145,108,80,74,102,222,255,255,255,248,230,221,213,203,184,151,118,94,89,107,195,254,255,255,255,254,235,207,192,179,159,127,99,91,124,201,252,254,254,255,255,255,250,207,172,155,135,109,100,148,222,253,255,254,255,255,255,255,255,236,168,140,127,155,207,247,255,254,255,255,255,255,255,255,255,255,206,151,204,247,255,255,255,255,255,255,255,255,255,255,255,255,249,234,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
    {255,255,244,193,162,175,222,255,255,255,255,255,255,255,255,255,255,240,144,133,168,151,128,198,255,255,255,255,255,255,255,255,255,163,83,138,177,192,173,132,228,255,254,246,252,255,255,255,242,75,10,10,15,36,99,137,182,207,121,77,104,217,255,255,221,35,0,0,0,0,0,49,114,77,42,22,1,72,235,255,220,34,0,0,0,0,0,0,36,56,20,3,0,2,152,255,240,64,0,0,0,0,0,0,0,1,0,0,0,0,93,253,255,150,4,0,0,0,0,0,0,0,0,0,0,0,107,255,255,240,76,0,0,0,0,0,0,1,0,0,0,16,185,255,255,255,198,26,0,0,0,0,1,0,0,0,5,128,250,255,255,255,255,137,2,0,0,1,0,0,0,15,129,245,255,255,255,255,255,238,74,0,1,0,0,4,62,176,250,255,254,255,255,255,255,255,199,28,0,3,57,156,235,255,255,255,255,255,255,255,255,255,255,144,35,144,233,255,255,255,255,255,255,255,255,255,255,255,255,242,212,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
    {255,255,245,194,164,176,223,255,255,255,255,255,255,255,255,255,255,241,146,134,169,152,129,200,255,255,255,255,255,255,255,255,255,165,86,139,178,192,173,134,229,255,255,247,253,255,255,255,242,77,11,12,16,37,100,137,183,208,124,79,105,217,255,255,222,36,0,0,0,0,1,49,116,81,47,26,3,72,236,255,220,34,0,0,0,0,0,0,38,60,22,4,0,3,153,255,240,65,0,0,0,1,0,0,0,2,0,1,2,0,95,253,255,151,4,0,0,0,0,0,2,2,2,1,0,0,108,255,255,240,77,0,0,0,0,1,2,3,1,0,0,16,186,255,255,255,199,28,0,0,1,2,3,1,0,0,5,130,251,255,255,255,255,138,3,2,2,2,2,0,0,16,130,246,255,255,255,255,255,238,76,0,2,2,0,4,63,178,250,255,255,255,255,255,255,255,200,30,0,5,58,157,237,255,255,255,255,255,255,255,255,255,255,146,38,145,234,255,255,255,255,255,255,255,255,255,255,255,255,242,213,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255}
  },
  {
    {255,255,253,249,245,244,243,243,255,255,255,255,255,255,255,255,255,252,248,240,243,246,243,239,240,255,255,255,255,255,255,255,255,244,239,243,247,249,250,243,238,255,254,253,254,255,255,255,253,246,235,231,206,212,232,245,246,241,244,244,245,250,245,255,251,244,249,243,213,208,215,230,242,244,239,243,246,245,252,245,251,242,249,246,229,222,222,222,231,240,233,236,234,227,239,255,252,244,248,248,245,239,227,217,213,220,210,188,161,139,195,255,255,246,246,248,249,248,232,210,191,184,154,113,87,78,177,255,255,252,240,245,237,233,224,203,172,145,108,80,74,102,222,255,255,255,248,230,221,213,203,184,151,118,94,89,107,195,254,195,255,255,254,242,207,192,179,159,127,99,91,124,201,252,186,254,255,255,255,250,231,172,155,135,109,100,148,222,253,193,254,255,255,255,255,255,236,168,140,127,155,207,247,189,214,255,255,255,255,255,255,255,255,237,151,204,247,191,214,255,255,255,255,255,255,255,255,255,255,249,224,255,218,255,255,255,255,255,255,255,255,255,255,255,255,255,255,238,255,255,255,255,255,255,255,255},
    {255,255,244,227,185,166,170,199,255,255,255,255,255,255,255,255,255,240,210,127,129,149,128,119,166,255,255,255,255,255,255,255,255,163,129,99,166,196,196,132,115,255,254,246,252,255,255,255,242,203,74,10,15,36,99,139,182,142,121,77,104,217,199,255,221,195,0,0,0,0,0,49,114,127,42,22,1,72,235,197,220,198,0,0,0,0,0,0,36,56,20,3,0,2,152,255,240,197,0,0,0,0,0,0,0,1,0,0,0,0,93,253,255,207,4,0,0,0,0,0,0,0,0,0,0,0,107,255,255,240,173,0,0,0,0,0,0,1,0,0,0,16,185,255,255,255,198,26,0,0,0,0,1,0,0,0,5,128,250,123,255,255,255,197,2,0,0,1,0,0,0,15,129,245,93,255,255,255,255,238,172,0,1,0,0,4,62,176,250,105,254,255,255,255,255,255,199,28,0,3,57,156,235,106,155,255,255,255,255,255,255,255,255,202,35,144,233,107,153,255,255,255,255,255,255,255,255,255,255,242,182,255,168,255,255,255,255,255,255,255,255,255,255,255,255,255,255,211,255,255,255,255,255,255,255,255},
    {255,255,245,228,186,168,172,199,255,255,255,255,255,255,255,255,255,241,211,130,131,150,129,121,168,255,255,255,255,255,255,255,255,165,131,101,166,196,196,134,118,255,255,247,253,255,255,255,242,204,77,12,16,37,100,140,183,144,124,79,105,217,200,255,222,196,0,0,0,0,1,49,116,129,47,26,3,72,236,198,220,199,0,0,0,0,0,0,38,60,22,4,0,3,153,255,240,197,0,0,0,1,0,0,0,2,0,1,2,0,95,253,255,207,4,0,0,0,0,0,2,2,2,1,0,0,108,255,255,240,174,0,0,0,0,1,2,3,1,0,0,16,186,255,255,255,199,28,0,0,1,2,3,1,0,0,5,130,251,125,255,255,255,198,3,2,2,2,2,0,0,16,130,246,95,255,255,255,255,238,172,0,2,2,0,4,63,178,250,107,255,255,255,255,255,255,200,30,0,5,58,157,237,108,156,255,255,255,255,255,255,255,255,203,38,145,234,110,155,255,255,255,255,255,255,255,255,255,255,242,182,255,169,255,255,255,255,255,255,255,255,255,255,255,255,255,255,211,255,255,255,255,255,255,255,255}
  },
  {
    {255,255,253,249,245,244,243,243,255,255,255,255,255,255,255,255,255,252,248,252,246,244,244,246,240,255,255,255,255,255,255,255,255,244,252,242,242,245,244,240,241,255,254,253,254,255,255,255,253,246,243,241,246,249,250,247,241,241,244,244,245,250,245,255,251,252,240,243,213,208,215,243,243,241,239,242,246,240,246,245,251,249,249,246,229,222,222,222,231,242,238,236,234,227,239,248,252,248,248,248,245,239,227,217,213,220,210,188,161,139,195,232,255,251,246,248,249,248,232,210,191,184,154,113,87,78,177,197,255,252,241,245,237,233,224,203,172,145,108,80,74,102,222,180,255,255,248,236,221,213,203,184,151,118,94,89,107,195,254,202,255,255,254,244,207,192,179,159,127,99,91,124,201,252,186,254,255,255,255,250,233,172,155,135,109,100,148,222,253,185,232,255,255,255,255,255,236,220,140,127,155,207,247,189,202,255,255,255,255,255,255,255,255,236,151,204,247,191,207,231,255,255,255,255,255,255,255,255,255,249,229,255,218,255,255,255,255,255,255,255,255,255,255,255,255,255,255,230,255,255,255,255,255,255,255,255},
    {255,255,244,227,185,166,170,199,255,255,255,255,255,255,255,255,255,240,210,244,204,176,180,206,166,255,255,255,255,255,255,255,255,163,238,153,125,149,136,123,163,255,254,246,252,255,255,255,242,203,173,84,147,188,191,158,119,142,121,77,104,217,199,255,221,239,137,0,0,0,0,134,128,147,42,168,1,152,207,197,220,222,0,0,0,0,0,0,36,118,100,3,0,2,152,212,240,218,0,0,0,0,0,0,0,1,0,0,0,0,93,122,255,232,4,0,0,0,0,0,0,0,0,0,0,0,107,62,255,240,178,0,0,0,0,0,0,1,0,0,0,16,185,90,255,255,198,143,0,0,0,0,1,0,0,0,5,128,250,135,255,255,255,200,2,0,0,1,0,0,0,15,129,245,95,255,255,255,255,238,173,0,1,0,0,4,62,176,250,89,190,255,255,255,255,255,199,152,0,3,57,156,235,106,133,255,255,255,255,255,255,255,255,203,35,144,233,107,141,193,255,255,255,255,255,255,255,255,255,242,191,255,168,255,255,255,255,255,255,255,255,255,255,255,255,255,255,197,255,255,255,255,255,255,255,255},
    {255,255,245,228,186,168,172,199,255,255,255,255,255,255,255,255,255,241,211,244,205,177,181,207,168,255,255,255,255,255,255,255,255,165,239,155,127,150,137,126,165,255,255,247,253,255,255,255,242,204,175,87,148,188,191,158,121,144,124,79,105,217,200,255,222,239,139,0,0,0,1,135,129,148,47,170,3,154,207,198,220,224,0,0,0,0,0,0,38,119,104,4,0,3,153,213,240,219,0,0,0,1,0,0,0,2,0,1,2,0,95,123,255,233,4,0,0,0,0,0,2,2,2,1,0,0,108,63,255,240,179,0,0,0,0,1,2,3,1,0,0,16,186,92,255,255,199,145,0,0,1,2,3,1,0,0,5,130,251,136,255,255,255,200,3,2,2,2,2,0,0,16,130,246,97,255,255,255,255,238,174,0,2,2,0,4,63,178,250,92,191,255,255,255,255,255,200,153,0,5,58,157,237,108,135,255,255,255,255,255,255,255,255,204,38,145,234,110,143,194,255,255,255,255,255,255,255,255,255,242,192,255,169,255,255,255,255,255,255,255,255,255,255,255,255,255,255,197,255,255,255,255,255,255,255,255}
  },
  {
    {255,255,253,249,245,244,243,243,255,255,255,255,255,255,255,255,255,252,248,252,246,244,244,246,240,255,255,255,255,255,255,255,255,244,252,242,242,248,245,245,247,255,254,253,254,255,255,255,253,246,243,241,245,240,243,244,242,241,244,244,245,250,245,255,251,252,240,248,238,245,249,250,248,241,240,242,246,240,246,245,251,249,249,242,229,222,222,222,244,245,241,236,234,240,240,245,252,248,248,240,245,239,227,217,213,220,244,238,161,139,195,232,255,251,246,248,249,248,232,210,191,184,154,113,87,78,177,197,255,252,241,242,237,233,224,203,172,145,108,80,74,102,222,180,255,255,248,243,221,213,203,184,151,118,94,89,107,141,122,100,255,255,254,244,236,192,179,159,127,99,91,124,201,110,86,254,255,255,255,250,244,172,155,135,109,100,148,222,108,185,232,255,255,255,255,255,236,236,140,127,155,207,247,189,202,255,255,185,255,255,255,255,255,243,151,204,247,191,207,231,255,255,198,245,255,255,255,255,255,249,234,255,218,255,255,255,190,221,255,255,255,255,255,255,255,255,255,220,255,255,255,219,241,255,255,255},
    {255,255,244,227,185,166,170,199,255,255,255,255,255,255,255,255,255,240,210,244,204,176,180,206,166,255,255,255,255,255,255,255,255,163,238,153,125,221,184,175,203,255,254,246,252,255,255,255,242,203,173,84,187,122,135,135,123,155,121,77,104,217,199,255,221,239,137,216,99,126,186,195,168,117,158,168,1,152,207,197,220,222,0,171,0,0,0,0,136,137,135,3,0,128,120,190,240,218,0,172,0,0,0,0,0,1,121,145,0,0,93,122,255,232,4,0,0,0,0,0,0,0,0,0,0,0,107,62,255,240,178,171,0,0,0,0,0,1,0,0,0,16,185,90,255,255,198,186,0,0,0,0,1,0,0,0,5,0,0,0,255,255,255,200,151,0,0,1,0,0,0,15,129,0,0,255,255,255,255,238,200,0,1,0,0,4,62,176,0,89,190,255,255,255,255,255,199,173,0,3,57,156,235,106,133,255,255,95,255,255,255,255,255,213,35,144,233,107,141,193,255,255,115,221,255,255,255,255,255,242,194,255,168,255,255,255,111,172,255,255,255,255,255,255,255,255,255,167,255,255,255,163,217,255,255,255},
    {255,255,245,228,186,168,172,199,255,255,255,255,255,255,255,255,255,241,211,244,205,177,181,207,168,255,255,255,255,255,255,255,255,165,239,155,127,222,185,176,204,255,255,247,253,255,255,255,242,204,175,87,189,124,136,136,125,157,124,79,105,217,200,255,222,239,139,217,103,127,187,195,168,119,160,170,3,154,207,198,220,224,0,173,0,0,0,0,138,138,137,4,0,130,122,191,240,219,0,173,0,1,0,0,0,2,122,147,2,0,95,123,255,233,4,0,0,0,0,0,2,2,2,1,0,0,108,63,255,240,179,173,0,0,0,1,2,3,1,0,0,16,186,92,255,255,199,187,0,0,1,2,3,1,0,0,5,2,1,0,255,255,255,200,153,2,2,2,2,0,0,16,130,1,0,255,255,255,255,238,201,0,2,2,0,4,63,178,1,92,191,255,255,255,255,255,200,173,0,5,58,157,237,108,135,255,255,97,255,255,255,255,255,213,38,145,234,110,143,194,255,255,117,222,255,255,255,255,255,242,194,255,169,255,255,255,113,174,255,255,255,255,255,255,255,255,255,168,255,255,255,164,218,255,255,255}
  },
  {
    {255,255,253,249,245,244,243,243,255,255,255,255,255,255,255,255,255,252,248,252,246,244,244,246,240,255,255,255,255,255,255,255,255,244,252,242,242,248,245,245,247,255,254,253,254,255,255,255,253,246,243,241,245,246,241,242,242,245,244,244,245,250,245,255,251,252,240,248,246,239,246,249,245,239,240,242,246,240,246,245,251,249,249,251,239,241,245,246,246,244,239,236,234,245,246,245,252,248,248,249,245,239,227,217,213,240,242,241,238,238,195,242,255,251,246,247,249,248,232,210,191,184,154,240,87,78,177,197,255,252,241,248,237,233,224,203,172,145,108,80,74,102,222,180,255,255,248,243,237,213,203,184,151,118,94,89,107,141,122,100,255,255,254,244,244,192,179,159,127,99,91,124,201,110,86,254,255,255,255,250,244,237,155,135,109,100,148,222,108,185,232,177,255,255,255,255,236,244,140,127,155,207,247,119,202,255,171,226,255,255,255,255,255,243,236,204,247,191,207,231,255,190,230,245,255,255,255,255,255,249,234,223,218,255,255,190,218,221,255,255,255,255,255,255,255,255,255,243,255,255,233,219,241,255,255,255},
    {255,255,244,227,185,166,170,199,255,255,255,255,255,255,255,255,255,240,210,244,204,176,180,206,166,255,255,255,255,255,255,255,255,163,238,153,125,221,184,175,203,255,254,246,252,255,255,255,242,203,173,84,187,212,165,152,163,202,121,77,104,217,199,255,221,239,137,216,206,113,152,177,138,127,158,168,1,152,207,197,220,222,0,243,131,77,143,167,160,140,139,3,0,189,198,190,240,218,0,225,0,0,0,0,0,112,130,155,99,62,93,184,255,232,4,211,0,0,0,0,0,0,0,83,0,0,107,62,255,240,178,218,0,0,0,0,0,1,0,0,0,16,185,90,255,255,198,186,151,0,0,0,1,0,0,0,5,0,0,0,255,255,255,200,191,0,0,1,0,0,0,15,129,0,0,255,255,255,255,238,200,167,1,0,0,4,62,176,0,89,190,83,255,255,255,255,199,214,0,3,57,156,235,0,133,255,64,178,255,255,255,255,255,213,191,144,233,107,141,193,255,103,184,221,255,255,255,255,255,242,194,165,168,255,255,111,168,172,255,255,255,255,255,255,255,255,255,223,255,255,193,163,217,255,255,255},
    {255,255,245,228,186,168,172,199,255,255,255,255,255,255,255,255,255,241,211,244,205,177,181,207,168,255,255,255,255,255,255,255,255,165,239,155,127,222,185,176,204,255,255,247,253,255,255,255,242,204,175,87,189,213,167,154,165,203,124,79,105,217,200,255,222,239,139,217,208,115,152,178,139,130,160,170,3,154,207,198,220,224,0,243,134,81,144,168,161,141,141,4,0,191,199,191,240,219,0,226,0,1,0,0,0,114,131,156,101,66,95,185,255,233,4,212,0,0,0,0,2,2,2,87,0,0,108,63,255,240,179,219,0,0,0,1,2,3,1,0,0,16,186,92,255,255,199,187,153,0,1,2,3,1,0,0,5,2,1,0,255,255,255,200,192,2,2,2,2,0,0,16,130,1,0,255,255,255,255,238,201,168,2,2,0,4,63,178,1,92,191,86,255,255,255,255,200,213,0,5,58,157,237,1,135,255,67,179,255,255,255,255,255,213,191,145,234,110,143,194,255,105,184,222,255,255,255,255,255,242,194,166,169,255,255,113,169,174,255,255,255,255,255,255,255,255,255,223,255,255,194,164,218,255,255,255}
  },
  {
    {255,255,253,249,245,244,243,243,255,255,255,255,255,255,255,255,255,252,248,252,246,244,244,246,240,255,255,255,255,255,255,255,255,244,252,242,242,248,245,245,247,255,254,253,254,255,255,255,253,246,243,241,245,246,241,242,242,245,244,244,245,250,245,255,251,252,240,248,246,239,246,249,245,239,240,242,246,240,246,245,251,249,249,251,239,241,245,246,246,244,239,236,234,245,246,245,252,248,248,249,245,239,227,217,213,240,242,241,238,238,195,242,255,251,246,247,249,248,232,210,191,184,154,240,87,78,177,197,255,252,241,248,237,233,224,203,172,145,108,80,74,102,222,180,255,255,248,243,237,213,203,184,151,118,94,89,107,141,122,100,255,255,254,244,244,192,179,159,127,99,91,124,201,110,86,254,255,255,255,250,244,237,155,135,109,100,148,222,108,185,232,177,255,255,255,255,236,244,140,127,155,207,247,119,202,255,171,226,255,255,255,255,255,243,236,204,247,191,207,231,255,190,230,245,255,255,255,255,255,249,234,223,218,255,255,190,218,221,255,255,255,255,255,255,255,255,255,243,255,255,233,219,241,255,255,255},
    {255,255,244,227,185,166,170,199,255,255,255,255,255,255,255,255,255,240,210,244,204,176,180,206,166,255,255,255,255,255,255,255,255,163,238,153,125,221,184,175,203,255,254,246,252,255,255,255,242,203,173,84,187,212,165,152,163,202,121,77,104,217,199,255,221,239,137,216,206,113,152,177,138,127,158,168,1,152,207,197,220,222,0,243,131,77,143,167,160,140,139,3,0,189,198,190,240,218,0,225,0,0,0,0,0,112,130,155,99,62,93,184,255,232,4,211,0,0,0,0,0,0,0,83,0,0,107,62,255,240,178,218,0,0,0,0,0,1,0,0,0,16,185,90,255,255,198,186,151,0,0,0,1,0,0,0,5,0,0,0,255,255,255,200,191,0,0,1,0,0,0,15,129,0,0,255,255,255,255,238,200,167,1,0,0,4,62,176,0,89,190,83,255,255,255,255,199,214,0,3,57,156,235,0,133,255,64,178,255,255,255,255,255,213,191,144,233,107,141,193,255,103,184,221,255,255,255,255,255,242,194,165,168,255,255,111,168,172,255,255,255,255,255,255,255,255,255,223,255,255,193,163,217,255,255,255},
    {255,255,245,228,186,168,172,199,255,255,255,255,255,255,255,255,255,241,211,244,205,177,181,207,168,255,255,255,255,255,255,255,255,165,239,155,127,222,185,176,204,255,255,247,253,255,255,255,242,204,175,87,189,213,167,154,165,203,124,79,105,217,200,255,222,239,139,217,208,115,152,178,139,130,160,170,3,154,207,198,220,224,0,243,134,81,144,168,161,141,141,4,0,191,199,191,240,219,0,226,0,1,0,0,0,114,131,156,101,66,95,185,255,233,4,212,0,0,0,0,2,2,2,87,0,0,108,63,255,240,179,219,0,0,0,1,2,3,1,0,0,16,186,92,255,255,199,187,153,0,1,2,3,1,0,0,5,2,1,0,255,255,255,200,192,2,2,2,2,0,0,16,130,1,0,255,255,255,255,238,201,168,2,2,0,4,63,178,1,92,191,86,255,255,255,255,200,213,0,5,58,157,237,1,135,255,67,179,255,255,255,255,255,213,191,145,234,110,143,194,255,105,184,222,255,255,255,255,255,242,194,166,169,255,255,113,169,174,255,255,255,255,255,255,255,255,255,223,255,255,194,164,218,255,255,255}
  },
  {
    {255,255,253,249,245,244,243,243,255,255,255,255,255,255,255,255,255,252,248,252,246,244,244,246,240,255,255,255,255,255,255,255,255,244,252,242,242,248,245,245,247,255,254,253,254,255,255,255,253,246,243,241,245,246,241,242,242,245,244,244,245,250,245,255,251,252,240,248,246,239,246,249,245,239,240,242,246,240,246,245,251,249,249,251,239,241,245,246,246,244,239,236,234,245,246,245,252,248,248,249,245,239,227,217,213,240,242,241,238,238,195,242,255,251,246,247,249,248,232,210,191,184,154,240,87,78,177,197,255,252,241,248,237,233,224,203,172,145,108,80,74,102,222,180,255,255,248,243,237,213,203,184,151,118,94,89,107,141,122,100,255,255,254,244,244,192,179,159,127,99,91,124,201,110,86,254,255,255,255,250,244,237,155,135,109,100,148,222,108,185,232,177,255,255,255,255,236,244,140,127,155,207,247,119,202,255,171,226,255,255,255,255,255,243,236,204,247,191,207,231,255,190,230,245,255,255,255,255,255,249,234,223,218,255,255,190,218,221,255,255,255,255,255,255,255,255,255,243,255,255,233,219,241,255,255,255},
    {255,255,244,227,185,166,170,199,255,255,255,255,255,255,255,255,255,240,210,244,204,176,180,206,166,255,255,255,255,255,255,255,255,163,238,153,125,221,184,175,203,255,254,246,252,255,255,255,242,203,173,84,187,212,165,152,163,202,121,77,104,217,199,255,221,239,137,216,206,113,152,177,138,127,158,168,1,152,207,197,220,222,0,243,131,77,143,167,160,140,139,3,0,189,198,190,240,218,0,225,0,0,0,0,0,112,130,155,99,62,93,184,255,232,4,211,0,0,0,0,0,0,0,83,0,0,107,62,255,240,178,218,0,0,0,0,0,1,0,0,0,16,185,90,255,255,198,186,151,0,0,0,1,0,0,0,5,0,0,0,255,255,255,200,191,0,0,1,0,0,0,15,129,0,0,255,255,255,255,238,200,167,1,0,0,4,62,176,0,89,190,83,255,255,255,255,199,214,0,3,57,156,235,0,133,255,64,178,255,255,255,255,255,213,191,144,233,107,141,193,255,103,184,221,255,255,255,255,255,242,194,165,168,255,255,111,168,172,255,255,255,255,255,255,255,255,255,223,255,255,193,163,217,255,255,255},
    {255,255,245,228,186,168,172,199,255,255,255,255,255,255,255,255,255,241,211,244,205,177,181,207,168,255,255,255,255,255,255,255,255,165,239,155,127,222,185,176,204,255,255,247,253,255,255,255,242,204,175,87,189,213,167,154,165,203,124,79,105,217,200,255,222,239,139,217,208,115,152,178,139,130,160,170,3,154,207,198,220,224,0,243,134,81,144,168,161,141,141,4,0,191,199,191,240,219,0,226,0,1,0,0,0,114,131,156,101,66,95,185,255,233,4,212,0,0,0,0,2,2,2,87,0,0,108,63,255,240,179,219,0,0,0,1,2,3,1,0,0,16,186,92,255,255,199,187,153,0,1,2,3,1,0,0,5,2,1,0,255,255,255,200,192,2,2,2,2,0,0,16,130,1,0,255,255,255,255,238,201,168,2,2,0,4,63,178,1,92,191,86,255,255,255,255,200,213,0,5,58,157,237,1,135,255,67,179,255,255,255,255,255,213,191,145,234,110,143,194,255,105,184,222,255,255,255,255,255,242,194,166,169,255,255,113,169,174,255,255,255,255,255,255,255,255,255,223,255,255,194,164,218,255,255,255}
  },
  {
    {255,255,253,249,245,244,243,243,255,255,255,255,255,255,255,255,255,252,248,252,246,244,244,246,240,255,255,255,255,255,255,255,255,244,252,242,242,248,245,245,247,255,254,253,254,255,255,255,253,246,243,241,245,246,241,242,242,245,244,244,245,250,245,255,251,252,240,248,246,239,246,249,245,239,240,242,246,240,246,245,251,249,249,251,239,241,245,246,246,244,239,236,234,245,246,245,252,248,248,249,245,239,227,217,213,240,242,241,238,238,195,242,255,251,246,247,249,248,232,210,191,184,154,240,87,78,177,197,255,252,241,248,237,233,224,203,172,145,108,80,74,102,222,180,255,255,248,243,237,213,203,184,151,118,94,89,107,141,122,100,255,255,254,244,244,192,179,159,127,99,91,124,201,110,86,254,255,255,255,250,244,237,155,135,109,100,148,222,108,185,232,177,255,255,255,255,236,244,140,127,155,207,247,119,202,255,171,226,255,255,255,255,255,243,236,204,247,191,207,231,255,190,230,245,255,255,255,255,255,249,234,223,218,255,255,190,218,221,255,255,255,255,255,255,255,255,255,243,255,255,233,219,241,255,255,255},
    {255,255,244,227,185,166,170,199,255,255,255,255,255,255,255,255,255,240,210,244,204,176,180,206,166,255,255,255,255,255,255,255,255,163,238,153,125,221,184,175,203,255,254,246,252,255,255,255,242,203,173,84,187,212,165,152,163,202,121,77,104,217,199,255,221,239,137,216,206,113,152,177,138,127,158,168,1,152,207,197,220,222,0,243,131,77,143,167,160,140,139,3,0,189,198,190,240,218,0,225,0,0,0,0,0,112,130,155,99,62,93,184,255,232,4,211,0,0,0,0,0,0,0,83,0,0,107,62,255,240,178,218,0,0,0,0,0,1,0,0,0,16,185,90,255,255,198,186,151,0,0,0,1,0,0,0,5,0,0,0,255,255,255,200,191,0,0,1,0,0,0,15,129,0,0,255,255,255,255,238,200,167,1,0,0,4,62,176,0,89,190,83,255,255,255,255,199,214,0,3,57,156,235,0,133,255,64,178,255,255,255,255,255,213,191,144,233,107,141,193,255,103,184,221,255,255,255,255,255,242,194,165,168,255,255,111,168,172,255,255,255,255,255,255,255,255,255,223,255,255,193,163,217,255,255,255},
    {255,255,245,228,186,168,172,199,255,255,255,255,255,255,255,255,255,241,211,244,205,177,181,207,168,255,255,255,255,255,255,255,255,165,239,155,127,222,185,176,204,255,255,247,253,255,255,255,242,204,175,87,189,213,167,154,165,203,124,79,105,217,200,255,222,239,139,217,208,115,152,178,139,130,160,170,3,154,207,198,220,224,0,243,134,81,144,168,161,141,141,4,0,191,199,191,240,219,0,226,0,1,0,0,0,114,131,156,101,66,95,185,255,233,4,212,0,0,0,0,2,2,2,87,0,0,108,63,255,240,179,219,0,0,0,1,2,3,1,0,0,16,186,92,255,255,199,187,153,0,1,2,3,1,0,0,5,2,1,0,255,255,255,200,192,2,2,2,2,0,0,16,130,1,0,255,255,255,255,238,201,168,2,2,0,4,63,178,1,92,191,86,255,255,255,255,200,213,0,5,58,157,237,1,135,255,67,179,255,255,255,255,255,213,191,145,234,110,143,194,255,105,184,222,255,255,255,255,255,242,194,166,169,255,255,113,169,174,255,255,255,255,255,255,255,255,255,223,255,255,194,164,218,255,255,255}
  }
};

MemphisMatrixDisplay::MemphisMatrixDisplay(uint8_t pin)
: m_neoMatrix(new Adafruit_NeoMatrix(16, 16, pin, NEO_MATRIX_TOP + NEO_MATRIX_LEFT + NEO_MATRIX_COLUMNS + NEO_MATRIX_ZIGZAG, NEO_GRB + NEO_KHZ800))
, m_heartBeatRate(0)
, m_heartAnimationTimer(new Timer(new HeartAnimationTimerAdapter(this), Timer::IS_RECURRING))
, m_frame(0)
, m_isDisplayActive(false)
, m_showHeart2(false)
, m_showHeart3(true)
, m_printText(false)
{
  if (0 != m_neoMatrix)
  {
    m_neoMatrix->begin();
    m_neoMatrix->setTextWrap(false);
    m_neoMatrix->setBrightness(10);
    m_neoMatrix->setFont(&TomThumb);
    m_neoMatrix->setTextColor(colors[CS_blue]);
  }
}

MemphisMatrixDisplay::~MemphisMatrixDisplay()
{
  delete m_heartAnimationTimer->adapter();
  m_heartAnimationTimer->attachAdapter(0);

  delete m_heartAnimationTimer;
  m_heartAnimationTimer = 0;

  delete m_neoMatrix;
  m_neoMatrix = 0;
}

void MemphisMatrixDisplay::setHeartBeatRate(unsigned int heartBeatRate)
{
  m_heartBeatRate = heartBeatRate;
  const unsigned int numFrm = m_showHeart2 ? heartbeating2NUM_FRM :
                              m_showHeart3 ? heartbeating3NUM_FRM : heartbeating1NUM_FRM;
  if (0 != m_heartAnimationTimer)
  {
    if (0 != m_heartBeatRate)
    {
	    // Fix division by zero bug!
      const unsigned long timeMillis = (60000 / m_heartBeatRate) / numFrm;
      m_heartAnimationTimer->startTimer(timeMillis);
    }
    else
    {
      m_heartAnimationTimer->cancelTimer();
    }
  }
  updateDisplay();
}

void MemphisMatrixDisplay::showNextFrame()
{
  m_frame++;
  if (0 == (m_frame % (m_showHeart2 ? heartbeating2NUM_FRM : heartbeating1NUM_FRM)))
  {
    m_frame = 0;
  }
  updateDisplay();
}

void MemphisMatrixDisplay::updateDisplay()
{
  if (m_isDisplayActive && (0 != m_neoMatrix))
  {
    m_neoMatrix->fillScreen(0);
    updateHeart();
    if (m_printText)
    {
      updateText();
    }
    m_neoMatrix->show();
  }
}

void MemphisMatrixDisplay::updateText()
{
  if (0 != m_neoMatrix)
  {
    m_neoMatrix->setCursor(4, 10);
    m_neoMatrix->print(String(m_heartBeatRate));
  }
}

uint16_t MemphisMatrixDisplay::drawRGB24toRGB565(byte r, byte g, byte b)
{
  return ((r / 8) << 11) | ((g / 4) << 5) | (b / 8);
}

void MemphisMatrixDisplay::updateHeart()
{
  for (byte y = 0; y < s_matrixEdgeLength; y++)
  {
    for (byte x = 0; x < s_matrixEdgeLength; x++)
    {
      byte loc = x + y * s_matrixEdgeLength;
      if (0 != m_neoMatrix)
      {
        if (m_showHeart3 && (heartbeating3NUM_FRM > m_frame))
        {
          m_neoMatrix->drawPixel(x, y, drawRGB24toRGB565(
                  heartbeating3Frame[m_frame][CS_red][loc],
                  heartbeating3Frame[m_frame][CS_green][loc],
                  heartbeating3Frame[m_frame][CS_blue][loc]));
        }
        else if (m_showHeart2 && (heartbeating2NUM_FRM > m_frame))
        {
          m_neoMatrix->drawPixel(x, y, drawRGB24toRGB565(
                  heartbeating2Frame[m_frame][CS_red][loc],
                  heartbeating2Frame[m_frame][CS_green][loc],
                  heartbeating2Frame[m_frame][CS_blue][loc]));
        }
        else if (heartbeating1NUM_FRM > m_frame)
        {
          m_neoMatrix->drawPixel(x, y, drawRGB24toRGB565(
                  heartbeating1Frame[m_frame][CS_red][loc],
                  heartbeating1Frame[m_frame][CS_green][loc],
                  heartbeating1Frame[m_frame][CS_blue][loc]));
        }
      }
    }
  }
}

void MemphisMatrixDisplay::selectFrame2(bool isFrame2)
{
  m_showHeart2 = isFrame2;
}

void MemphisMatrixDisplay::activateDisplay()
{
  m_isDisplayActive = true;
  updateDisplay();
}

void MemphisMatrixDisplay::deactivateDisplay()
{
//  m_isDisplayActive = false;
  if (0 != m_neoMatrix)
  {
//  m_neoMatrix->fillScreen(0);
//  m_neoMatrix->show();
    m_neoMatrix->setTextColor(colors[CS_green]);
  }
  updateDisplay();
}
